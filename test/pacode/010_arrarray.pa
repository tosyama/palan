ccall int32 printf();
ccall exit();
ccall setenv();
ccall mtrace();
ccall muntrace();

func arrarr_func(int32[4][3] a) -> int32[4][3] b
{
	return b;
}

setenv("MALLOC_TRACE", "out/mtrace010", 1);
int32 i,j,k,l;
int32[5] c;
mtrace();

{
	int32[4][3] a1;
	int32[5][2,3][4] b1, b2;

	1 -> a1[2][3];
	a1[2][3] -> i;

	2 -> b1[2][1,2][3];
	b1[2][1,2][3]->j;

	a1[2][3] -> b1[2][1,2][3];
	b1[2][a1[2][3],2][3] -> k;

	b1 -> b2;
	b2[2][1,2][3]->l;

	b1[2][1,2] -> c;
	b1 ->> b2;
	c ->> b2[2][1,1];

	arrarr_func(a1);

//	b2[2][1,2] -> b1[1][2,2];

	// b2[] ->> is not allowed.
}

muntrace();
printf("%d %d %d %d\n", i,j,k,l);

exit(0);
